<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <title>prototype</title>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
    header, section, footer, aside, nav, article, figure, audio, video, canvas  { display:block; }
	  body {
			background: #ccc;
    }
  </style>
</head>
<body>
  <div id="wrapper">
  </div>
	<script>
		(function() {
			var getQueryStringValue = function(qs, variable) {
					var pair,
							vars = qs.split('&'),
							i;
					for (i = 0; i < vars.length; i++) {
							pair = vars[i].split('%3D');
							if (decodeURIComponent(pair[0]) === variable) {
									return decodeURIComponent(pair[1]);
							}
					}
				}, appendQuery = function() {
					var x = getQueryStringValue( window.location.hash.replace(/^#/, ''), 'x' );
					if ( !!x ) {
						var msg = JSON.parse( x );
						window.location.hash = "#";
					}
				};
			$('#wrapper').on('click', 'a', function(e) {
				$( '#content' ).html('');
			});
			window.addEventListener( 'popstate', appendQuery );
		}());
	</script>
</body>
</html>
