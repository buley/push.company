<!DOCTYPE html>
<html>
<head>
  <title>prototype</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, user-scalable=no">
	<script data-main="app" src="/vendor/require.js/require.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
    body, html {
      width: 100%;
      height: 100%;
    }
    header, section, footer, aside, nav, article, figure, audio, video, canvas  { display:block; }
  </style>
</head>
<body>
  <div id="wrapper">
    <nav style="clear:both;">
      <a href="#content" id="header">&#9114;</a>
    </nav>
    <section id="content">
    </section>
    <footer style="clear:both;">
      <a href="#content" id="header">&#8613;</a>
    </footer>
  </div>
	<script>
		(function() {
			var getQueryStringValue = function(qs, variable) {
					var pair,
							vars = qs.split('&'),
							i;
					for (i = 0; i < vars.length; i++) {
							pair = vars[i].split('%3D');
							if (decodeURIComponent(pair[0]) === variable) {
									return decodeURIComponent(pair[1]);
							}
					}
				}, appendQuery = function() {
var x = getQueryStringValue( window.location.hash.replace(/^#/, ''), 'x' ),
    msg;
if ( !!x ) {
  try {
    msg = JSON.parse( x );
    if (!!msg) {
      $( '#content' ).append( [
        '<article style="padding: 10px; margin-bottom: 10px; border-bottom: 1px solid #1a1a1a; background: #ccc;">',
        JSON.stringify( msg ),
        '</article>'
      ].join('') );
    }
  } catch( e ) {
    //nothing yet
  }
  window.location.hash = "#ready=true";
}
e.preventDefault();
e.stopPropigation();
};
$('#wrapper').on('click', 'a', function(e) {
$( '#content' ).html('');
e.preventDefault();
e.stopPropigation();
});
window.addEventListener( 'popstate', appendQuery );
}());
</script>
</body>
</html>
