<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>prototype</title>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
    header, section, footer, aside, nav, article, figure, audio, video, canvas  { display:block; }
  </style>
</head>
<body>
  <div id="wrapper">
    <nav style="clear:both;">
      <a href="#content" id="header">#</a>
    </nav>
    <section id="content">
    </section>
    <footer style="clear:both;">
      <a href="#content" id="footer">#</a>
    </footer>
  </div>
	<script>
		(function() {
			var getQueryStringValue = function(qs, variable) {
					var pair,
							vars = qs.split('&'),
							i;
					for (i = 0; i < vars.length; i++) {
							pair = vars[i].split('%3D');
							if (decodeURIComponent(pair[0]) === variable) {
									return decodeURIComponent(pair[1]);
							}
					}
				}, appendQuery = function() {
					var x = getQueryStringValue( window.location.hash.replace(/^#/, ''), 'x' );
					if ( !!x ) {
						$( '#content' ).append( [
							'<article style="padding: 10px; margin-bottom: 10px; border-bottom: 1px solid #1a1a1a; background: #ccc;">',
							JSON.stringify( JSON.parse( x ) ),
							'</article>'
						].join('') );
					}
				};
			$('#wrapper').on('click', 'a', function(e) {
				$( '#content' ).html('');
			});
			window.addEventListener( 'popstate', appendQuery );
			window.addEventListener( 'load', appendQuery );
		}());
	</script>
</body>
</html>
